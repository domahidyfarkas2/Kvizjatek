<!doctype html>
<html lang="hu">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Classical Quiz Player</title>

<style>
body { font-family: system-ui, Arial; max-width: 720px; margin: 20px auto; padding: 16px; }
.screen { display: none; }
.visible { display: block; }
button { padding: 10px 14px; margin: 6px 4px; font-size: 16px; }
.big { font-size: 20px; }
.center { text-align: center; }
#progress { width: 100%; height: 10px; background: #eee; border-radius: 6px; overflow: hidden; }
#progress > div { height: 100%; width: 0%; background: linear-gradient(#ddd, #bbb); }
</style>
</head>
<body>

<h2 id="mainTitle">
Tippelj! Ha a zeneszerzőt és a darabot is eltalálod, az 2 pontot ér, ha csak az egyiket, az egyet.
</h2>

<div id="screen1" class="screen">
  <div id="playingInfo" class="center">Zene lejátszása...</div>
  <div id="progress"><div id="progFill"></div></div>
  <div class="center">
    <button id="playBtn">Play</button>
    <button id="answerBtn" class="big">Szabad a gazda?</button>
  </div>
  <div id="hint" class="center" style="color:#555;margin-top:8px"></div>
</div>

<div id="screen2" class="screen">
  <div id="answerText" style="font-size:18px;margin-bottom:12px"></div>
  <div id="miniGameBtnWrap"></div>
  <div style="margin-top:12px">
    <a href="#" id="backToPlay">Vissza</a>
  </div>
</div>

<div id="screen3" class="screen">
  <div id="miniAnswerText" style="font-size:18px;margin-bottom:12px"></div>
  <div>
    <button id="nextMiniBtn">Kérem a következőt!</button>
    <button id="exitMiniBtn">Kilépés</button>
  </div>
</div>

<audio id="audio" preload="auto"></audio>

<script>
/* -------------------- CONFIG -------------------- */
const tracks = {
  track001: {
    composer: "Bach",
    title: "Air",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Bach%20Air.mp3"
  },
  track002: {
    composer: "Bach",
    title: "Máté passió (Erbarme dich, mein Gott)",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Bach%20Máté%20passió%20(Erbarme%20dich,%20mein%20Gott).mp3"
  },
  track003: {
    composer: "Balakirev",
    title: "Tamara",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Balakirev%20Tamara.mp3"
  },
  track004: {
    composer: "Bartók",
    title: "- A csodálatos mandarin",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Bartók%20-%20A%20csodálatos%20mandarin.mp3"
  },
  track005: {
    composer: "Bartók",
    title: "- Concerto 5. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Bartók%20-%20Concerto%205.%20tétel.mp3"
  },
  track006: {
    composer: "Bartók",
    title: "A kékszakállú herceg vára (4. ajtó)",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Bartók%20A%20kékszakállú%20herceg%20vára%20(4.%20ajtó).mp3"
  },
  track007: {
    composer: "Bartók",
    title: "A kékszakállú herceg vára (6. ajtó)",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Bartók%20A%20kékszakállú%20herceg%20vára%20(6.%20ajtó).mp3"
  },
  track008: {
    composer: "Bartók",
    title: "Zene húros hangszerekre, ütőkre, és cselesztára 3. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Bartók%20Zene%20húros%20hangszerekre,%20ütőkre,%20és%20cselesztára%203.%20tétel.mp3"
  },
  track009: {
    composer: "Beethoven",
    title: "Leonore nyitány",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Beethoven%20Leonore%20nyitány.mp3"
  },
  track010: {
    composer: "Beethoven",
    title: "Kreutzer szonáta",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Beethoven%20Kreutzer%20szonáta.mp3"
  },
  track011: {
    composer: "Berg",
    title: "Altenberg dalok",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Berg%20Altenberg%20dalok.mp3"
  },
  track012: {
    composer: "Berlioz",
    title: "- Fantasztikus szimfónia, 2. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Berlioz%20-%20Fantasztikus%20szimfónia,%202.%20tétel.mp3"
  },
  track013: {
    composer: "Berlioz",
    title: "- Fantasztikus szimfónia, 4. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Berlioz%20-%20Fantasztikus%20szimfónia,%204.%20tétel.mp3"
  },
  track014: {
    composer: "Borogyin",
    title: "Poloveci táncok az Igor Herceg c. operából",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Borogyin%20Poloveci%20táncok%20az%20Igor%20Herceg%20c.%20operából.mp3"
  },
  track015: {
    composer: "Brahms",
    title: "1. szimfónia 1. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Brahms%201.%20szimfónia%201.%20tétel.mp3"
  },
  track016: {
    composer: "Brahms",
    title: "2. szimfónia 1. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Brahms%202.%20szimfónia%201.%20tétel.mp3"
  },
  track017: {
    composer: "Brahms",
    title: "3. szimfónia 3. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Brahms%203.%20szimfónia%203.%20tétel.mp3"
  },
  track018: {
    composer: "Brahms",
    title: "4. szimfónia 1. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Brahms%204.%20szimfónia%201.%20tétel.mp3"
  },
  track019: {
    composer: "Brahms",
    title: "Hegedűverseny, 1. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Brahms%20Hegedűverseny,%201.%20tétel.mp3"
  },
  track020: {
    composer: "Brahms",
    title: "Kürt-trió, 1. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Brahms%20Kürt-trió,%201.%20tétel.mp3"
  },
  track021: {
    composer: "Brahms",
    title: "Német requiem, 2. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Brahms%20Német%20requiem,%202.%20tétel.mp3"
  },
  track022: {
    composer: "Brahms",
    title: "Tragikus nyitány",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Brahms%20Tragikus%20nyitány.mp3"
  },
  track023: {
    composer: "Bruckner",
    title: "4. szimfónia 4. tétel, finálé",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Bruckner%204.%20szimfónia%204.%20tétel,%20finálé.mp3"
  },
  track024: {
    composer: "Bruckner",
    title: "9. szimfónia 1. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Bruckner%209.%20szimfónia%201.%20tétel.mp3"
  },
  track025: {
    composer: "Carl",
    title: "Orff Carmina Burana (In taberna)",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Carl%20Orff%20Carmina%20Burana%20(In%20taberna).mp3"
  },
  track026: {
    composer: "Cherubini",
    title: "Requiem - Agnus Dei",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Cherubini%20Requiem%20-%20Agnus%20Dei.mp3"
  },
  track027: {
    composer: "Chopin",
    title: "E-moll zongoraverseny 1. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Chopin%20E-moll%20zongoraverseny%201.%20tétel.mp3"
  },
  track028: {
    composer: "Chopin",
    title: "E-moll zongoraverseny 2. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Chopin%20E-moll%20zongoraverseny%202.%20tétel.mp3"
  },
  track029: {
    composer: "Chopin",
    title: "Fantaisie Impromptu",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Chopin%20Fantaisie%20Impromptu.mp3"
  },
  track030: {
    composer: "Csajkovszkij",
    title: "Hattyúk tava",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Csajkovszkij%20Hattyúk%20tava.mp3"
  },
  track031: {
    composer: "Csajkovszkij",
    title: "6. (Patetikus) szimfónia, 1. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Csajkovszkij%206.%20(Patetikus)%20szimfónia,%201.%20tétel.mp3"
  },
  track032: {
    composer: "Csajkovszkij",
    title: "Az évszakok - Június",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Csajkovszkij%20Az%20évszakok%20-%20Június.mp3"
  },
  track033: {
    composer: "Csajkovszkij",
    title: "Rómeó és Júlia nyitányfantázia",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Csajkovszkij%20Rómeó%20és%20Júlia%20nyitányfantázia.mp3"
  },
  track034: {
    composer: "Debussy",
    title: "A faun délutánja",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Debussy%20A%20faun%20délutánja.mp3"
  },
  track035: {
    composer: "Debussy",
    title: "A tenger, 3.tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Debussy%20A%20tenger,%203.tétel.mp3"
  },
  track036: {
    composer: "Debussy",
    title: "Nocturnes, 1. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Debussy%20Nocturnes,%201.%20tétel.mp3"
  },
  track037: {
    composer: "Delius",
    title: "In a Summer Garden",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Delius%20In%20a%20Summer%20Garden.mp3"
  },
  track038: {
    composer: "Dohnányi",
    title: "Szimfonikus percek 4. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Dohnányi%20Szimfonikus%20percek%204.%20tétel.mp3"
  },
  track039: {
    composer: "Dvorak",
    title: "8. szimfónia 4. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Dvorak%208.%20szimfónia%204.%20tétel.mp3"
  },
  track040: {
    composer: "Dvorak",
    title: "D-moll zongoraverseny",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Dvorak%20D-moll%20zongoraverseny.mp3"
  },
  track041: {
    composer: "Dvorak",
    title: "Karneváli nyitány",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Dvorak%20Karneváli%20nyitány.mp3"
  },
  track042: {
    composer: "Dvorák",
    title: "9. (Új Világ) szimfónia 2. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Dvorák%209.%20(Új%20Világ)%20szimfónia%202.%20tétel.mp3"
  },
  track043: {
    composer: "Dvorák",
    title: "9. (Új Világ) szimfónia 4. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Dvorák%209.%20(Új%20Világ)%20szimfónia%204.%20tétel.mp3"
  },
  track044: {
    composer: "Elgar",
    title: "Enigma variációk",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Elgar%20Enigma%20variációk.mp3"
  },
  track045: {
    composer: "Erkel",
    title: "Hunyadi László - nyitány",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Erkel%20Hunyadi%20László%20-%20nyitány.mp3"
  },
  track046: {
    composer: "Fauré",
    title: "Pelléas és Mélisande szvit (Sicilienne)",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Fauré%20Pelléas%20és%20Mélisande%20szvit%20(Sicilienne).mp3"
  },
  track047: {
    composer: "Franck",
    title: "Hegedűszonáta, 1. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Franck%20Hegedűszonáta,%201.%20tétel.mp3"
  },
  track048: {
    composer: "Gershwin",
    title: "F-dúr zongoraverseny",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Gershwin%20F-dúr%20zongoraverseny.mp3"
  },
  track049: {
    composer: "Gershwin",
    title: "Rhapsody In Blue",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Gershwin%20Rhapsody%20In%20Blue.mp3"
  },
  track050: {
    composer: "Grieg",
    title: "A-moll zongoraverseny, 3. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Grieg%20A-moll%20zongoraverseny,%203.%20tétel.mp3"
  },
  track051: {
    composer: "Hacsaturján",
    title: "Csellóverseny, 3. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Hacsaturján%20Csellóverseny,%203.%20tétel.mp3"
  },
  track052: {
    composer: "Hacsaturján",
    title: "D-dúr Hegedűverseny",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Hacsaturján%20D-dúr%20Hegedűverseny.mp3"
  },
  track053: {
    composer: "Handel",
    title: "Koronázási himnusz (Zadok the Priest)",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Handel%20Koronázási%20himnusz%20(Zadok%20the%20Priest).mp3"
  },
  track054: {
    composer: "Holst",
    title: "A bolygók - Szaturnusz",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Holst%20A%20bolygók%20-%20Szaturnusz.mp3"
  },
  track055: {
    composer: "Honegger",
    title: "Karácsonyi kantáta",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Honegger%20Karácsonyi%20kantáta.mp3"
  },
  track056: {
    composer: "Ippolitov-Ivanov",
    title: "Kaukázusi képek",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Ippolitov-Ivanov%20Kaukázusi%20képek.mp3"
  },
  track057: {
    composer: "Kodály",
    title: "Fölszállott a páva (variációk egy magyar népdalra)",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Kodály%20Fölszállott%20a%20páva%20(variációk%20egy%20magyar%20népdalra).mp3"
  },
  track058: {
    composer: "Kodály",
    title: "Háry János",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Kodály%20Háry%20János.mp3"
  },
  track059: {
    composer: "Kodály",
    title: "Psalmus Hungaricus",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Kodály%20Psalmus%20Hungaricus.mp3"
  },
  track060: {
    composer: "Ligeti",
    title: "Musica Ricercata, 7. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Ligeti%20Musica%20Ricercata,%207.%20tétel.mp3"
  },
  track061: {
    composer: "Ligeti",
    title: "Requiem (Kyrie)",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Ligeti%20Requiem%20(Kyrie).mp3"
  },
  track062: {
    composer: "Liszt",
    title: "1. Mefisztó keringő",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Liszt%201.%20Mefisztó%20keringő.mp3"
  },
  track063: {
    composer: "Liszt",
    title: "Funérailles",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Liszt%20Funérailles.mp3"
  },
  track064: {
    composer: "Liszt",
    title: "Les préludes",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Liszt%20Les%20préludes.mp3"
  },
  track065: {
    composer: "Liszt",
    title: "H-moll zongorazsonáta",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Liszt%20H-moll%20zongorazsonáta.mp3"
  },
  track066: {
    composer: "Mahler",
    title: "1. szimfónia 1. tétel eleje",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mahler%201.%20szimfónia%201.%20tétel%20eleje.mp3"
  },
  track067: {
    composer: "Mascagni",
    title: "Parasztbecsület",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mascagni%20Parasztbecsület.mp3"
  },
  track068: {
    composer: "Mendelssohn",
    title: "Szentivánéji álom",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mendelssohn%20Szentivánéji%20álom.mp3"
  },
  track069: {
    composer: "Mozart",
    title: "25., (kis) G-moll szinfónia",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mozart%2025.,%20(kis)%20G-moll%20szinfónia.mp3"
  },
  track070: {
    composer: "Mozart",
    title: "A-dúr zongoraszonáta",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mozart%20A-dúr%20zongoraszonáta.mp3"
  },
  track071: {
    composer: "Mozart",
    title: "D-moll zongoraverseny, 1. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mozart%20D-moll%20zongoraverseny,%201.%20tétel.mp3"
  },
  track072: {
    composer: "Mozart",
    title: "23., A-moll zongoraverseny, 2. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mozart%2023.,%20A-moll%20zongoraverseny,%202.%20tétel.mp3"
  },
  track073: {
    composer: "Mozart",
    title: "40. (nagy) G-moll szimfónia",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mozart%2040.%20(nagy)%20G-moll%20szimfónia.mp3"
  },
  track074: {
    composer: "Mozart",
    title: "Don Giovanni finálé",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mozart%20Don%20Giovanni%20finálé.mp3"
  },
  track075: {
    composer: "Mozart",
    title: "Requiem (Confutatis)",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mozart%20Requiem%20(Confutatis).mp3"
  },
  track076: {
    composer: "Mozart",
    title: "klarinétverseny, 2. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mozart%20klarinétverseny,%202.%20tétel.mp3"
  },
  track077: {
    composer: "Muszorgszkij",
    title: "Borisz Godunov, koronázási jelenet",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Muszorgszkij%20Borisz%20Godunov,%20koronázási%20jelenet.mp3"
  },
  track078: {
    composer: "Muszorgszkij",
    title: "Egy kiállítás képei (Baba-Jaga kunyhója)",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Muszorgszkij%20Egy%20kiállítás%20képei%20(Baba-Jaga%20kunyhója).mp3"
  },
  track079: {
    composer: "Muszorgszkij",
    title: "Egy kiállítás képei (Ódon várkastély)",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Muszorgszkij%20Egy%20kiállítás%20képei%20(Ódon%20várkastély).mp3"
  },
  track080: {
    composer: "Muszorgszkij",
    title: "Éj a kopár hegyen",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Muszorgszkij%20Éj%20a%20kopár%20hegyen.mp3"
  },
  track081: {
    composer: "Philip",
    title: "Glass Hegedűverseny, 3. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Philip%20Glass%20Hegedűverseny,%203.%20tétel.mp3"
  },
  track082: {
    composer: "Poulenc",
    title: "Zongoraverseny, 1. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Poulenc%20Zongoraverseny,%201.%20tétel.mp3"
  },
  track083: {
    composer: "Prokofjev",
    title: "5. szimfónia 4. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Prokofjev%205.%20szimfónia%204.%20tétel.mp3"
  },
  track084: {
    composer: "Prokofjev",
    title: "Szkíta szvit",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Prokofjev%20Szkíta%20szvit.mp3"
  },
  track085: {
    composer: "Prokofjev",
    title: "1. (Klasszikus) szimfónia, 1. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Prokofjev%201.%20(Klasszikus)%20szimfónia,%201.%20tétel.mp3"
  },
  track086: {
    composer: "Puccini",
    title: "Gianni Schicchi",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Puccini%20Gianni%20Schicchi.mp3"
  },
  track087: {
    composer: "Rachmaninov",
    title: "2. szimfónia, 3. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Rachmaninov%202.%20szimfónia,%203.%20tétel.mp3"
  },
  track088: {
    composer: "Rahmanyinov",
    title: "2., C-moll zongoraverseny, 2. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Rahmanyinov%202.,%20C-moll%20zongoraverseny,%202.%20tétel.mp3"
  },
  track089: {
    composer: "Rahmanyinov",
    title: "Rapszódia egy Paganini-témára",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Rahmanyinov%20Rapszódia%20egy%20Paganini-témára.mp3"
  },
  track090: {
    composer: "Ravel",
    title: "Couperin sírja szvit - Forlane",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Ravel%20Couperin%20sírja%20szvit%20-%20Forlane.mp3"
  },
  track091: {
    composer: "Ravel",
    title: "Bolero",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Ravel%20Bolero.mp3"
  },
  track092: {
    composer: "Ravel",
    title: "F-dúr vonósnégyes, 2. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Ravel%20F-dúr%20vonósnégyes,%202.%20tétel.mp3"
  },
  track093: {
    composer: "Ravel",
    title: "G-dúr zongoraverseny 2. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Ravel%20G-dúr%20zongoraverseny%202.%20tétel.mp3"
  },
  track094: {
    composer: "Ravel",
    title: "La Valse",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Ravel%20La%20Valse.mp3"
  },
  track095: {
    composer: "Ravel",
    title: "Menuet antique",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Ravel%20Menuet%20antique.mp3"
  },
  track096: {
    composer: "Richard Strauss",
    title: "Don Juan",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Richard%20Strauss%20Don%20Juan.mp3"
  },
  track097: {
    composer: "Richard Strauss",
    title: "Imígyen szóla Zarathustra",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Richard%20Strauss%20Imígyen%20szóla%20Zarathustra.mp3"
  },
  track098: {
    composer: "Richard Strauss",
    title: "Négy utolsó dal (Im Abendrot)",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Richard%20Strauss%20Négy%20utolsó%20dal%20(Im%20Abendrot).mp3"
  },
  track099: {
    composer: "Richard Strauss",
    title: "Salome, a hét fátyol tánca",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Richard%20Strauss%20Salome,%20a%20hét%20fátyol%20tánca.mp3"
  },
  track100: {
    composer: "Rimszkij-Korszakov",
    title: "Seherezádé",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Rimszkij-Korszakov%20Seherezádé.mp3"
  },
  track101: {
    composer: "Rossini",
    title: "A tolvaj szarka nyitány",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Rossini%20A%20tolvaj%20szarka%20nyitány.mp3"
  },
  track102: {
    composer: "Rossini",
    title: "Agnus dei a Kis ünnepi miséből",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Rossini%20Agnus%20dei%20a%20Kis%20ünnepi%20miséből.mp3"
  },
  track103: {
    composer: "Saint-Saens",
    title: "- Danse Macabre",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Saint-Saens%20-%20Danse%20Macabre.mp3"
  },
  track104: {
    composer: "Schubert",
    title: "2. zongoratrió, 2. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Schubert%202.%20zongoratrió,%202.%20tétel.mp3"
  },
  track105: {
    composer: "Schubert",
    title: "8. (befejezetlen) szinfónia, 1. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Schubert%208.%20(befejezetlen)%20szinfónia,%201.%20tétel.mp3"
  },
  track106: {
    composer: "Schubert",
    title: "Gretchen am spinnrade",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Schubert%20Gretchen%20am%20spinnrade.mp3"
  },
  track107: {
    composer: "Schubert",
    title: "Winterreise (A kintornás)",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Schubert%20Winterreise%20(A%20kintornás).mp3"
  },
  track108: {
    composer: "Schubert",
    title: "Winterreise (Gute Nacht)",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Schubert%20Winterreise%20(Gute%20Nacht).mp3"
  },
  track109: {
    composer: "Schumann",
    title: "3. (Rajnai) Szimfónia",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Schumann%203.%20(Rajnai)%20Szimfónia.mp3"
  },
  track110: {
    composer: "Schumann",
    title: "A-moll zongoraverseny, 1. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Schumann%20A-moll%20zongoraverseny,%201.%20tétel.mp3"
  },
  track111: {
    composer: "Schumann",
    title: "Zongoraötös, 4. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Schumann%20Zongoraötös,%204.%20tétel.mp3"
  },
  track112: {
    composer: "Sergei",
    title: "Rachmaninov Francesca da Rimini",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Sergei%20Rachmaninov%20Francesca%20da%20Rimini.mp3"
  },
  track113: {
    composer: "Sibelius",
    title: "En Saga (Monda)",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Sibelius%20En%20Saga%20(Monda).mp3"
  },
  track114: {
    composer: "Sosztakovics",
    title: "8. vonósnégyes 2. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Sosztakovics%208.%20vonósnégyes%202.%20tétel.mp3"
  },
  track115: {
    composer: "Sosztakovics",
    title: "10. szimfónia, 2. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Sosztakovics%2010.%20szimfónia,%202.%20tétel.mp3"
  },
  track116: {
    composer: "Sosztakovics",
    title: "2. zongoraverseny, 2. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Sosztakovics%202.%20zongoraverseny,%202.%20tétel.mp3"
  },
  track117: {
    composer: "Sosztakovics",
    title: "Foxtrot az 1. Jazz szvitből",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Sosztakovics%20Foxtrot%20az%201.%20Jazz%20szvitből.mp3"
  },
  track118: {
    composer: "Szkjabin",
    title: "Az extázis költeménye",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Szkjabin%20Az%20extázis%20költeménye.mp3"
  },
  track119: {
    composer: "Sztravinszkij",
    title: "Mennyegző",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Sztravinszkij%20Mennyegző.mp3"
  },
  track120: {
    composer: "Sztravinszkij",
    title: "Pulcinella",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Sztravinszkij%20Pulcinella.mp3"
  },
  track121: {
    composer: "Sztravinszkij",
    title: "Tavaszi áldozat",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Sztravinszkij%20Tavaszi%20áldozat.mp3"
  },
  track122: {
    composer: "Sztravinszkij",
    title: "Tűzmadármp3",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Sztravinszkij%20Tűzmadármp3.mp3"
  },
  track123: {
    composer: "Verdi",
    title: "Trubadúr, Cigánykórus",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Verdi%20Trubadúr,%20Cigánykórus.mp3"
  },
  track124: {
    composer: "Vivaldi",
    title: "D-moll csellóverseny",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Vivaldi%20D-moll%20csellóverseny.mp3"
  },
  track125: {
    composer: "Vivaldi",
    title: "Négy évszak - tél, 1. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Vivaldi%20Négy%20évszak%20-%20tél,%201.%20tétel.mp3"
  },
  track126: {
    composer: "Vivaldi",
    title: "Négy évszak, nyár 3. tétel",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Vivaldi%20Négy%20évszak,%20nyár%203.%20tétel.mp3"
  },
  track127: {
    composer: "Webern",
    title: "- Concerto 9 hangszerre",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Webern%20-%20Concerto%209%20hangszerre.mp3"
  }
};

const extraTracks = {
  // -------------------- Wagner minigame --------------------
  "m1.1": {
    title: `Valhalla (A Rajna kincse)`,
    composer: `Richard Wagner`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Wagner minigame/12a Valhalla (first segment) _ Der Ring Des Nibelungen [Man7MwIHYSw].mp3`,
    question: `Melyik helyszínhez tartozik ez a motívum?`
  },
  "m1.2": {
    title: `Wotan dárdája (A Rajna kincse)`,
    composer: `Richard Wagner`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Wagner minigame/13 Spear _ Der Ring Des Nibelungen.mp3`,
    question: `Melyik tárgyhoz tartozik ez a motívum és melyik szereplőhöz tartozik a tárgy?`
  },
  "m1.3": {
    title: `óriások (A Rajna kincse)`,
    composer: `Richard Wagner`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Wagner minigame/16 Giants _ Der Ring Des Nibelungen.mp3`,
    question: `Melyik szereplőkhöz tartozik ez a motívum?`
  },
  "m1.4": {
    title: `Loge (A Rajna kincse)`,
    composer: `Richard Wagner`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Wagner minigame/21 Loge _ Der Ring Des Nibelungen.mp3`,
    question: `Melyik szereplőhöz tartozik ez a motívum?`
  },
  "m1.5": {
    title: `Nibelheim (A Rajna kincse)`,
    composer: `Richard Wagner`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Wagner minigame/24 Nibelheim _ Der Ring Des Nibelungen.mp3`,
    question: `Melyik helyszínhez tartozik ez a motívum?`
  },
  "m1.6": {
    title: `Tarnhelm / ködsisak (A Rajna kincse)`,
    composer: `Richard Wagner`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Wagner minigame/25 Tarnhelm _ Der Ring Des Nibelungen.mp3`,
    question: `Melyik tárgyhoz tartozik ez a motívum?`
  },
  "m1.7": {
    title: `kard`,
    composer: `Richard Wagner`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Wagner minigame/37 Sword _ Der Ring Des Nibelungen.mp3`,
    question: `Melyik tárgyhoz tartozik ez a motívum?`
  },
  "m1.8": {
    title: `vihar, Siegmund megérkezik Hunding kunyhójához (A walkür)`,
    composer: `Richard Wagner`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Wagner minigame/40 Storm _ Der Ring Des Nibelungen [MU4nXZa4y08].mp3`,
    question: `Itt éppen mi történik?`
  },
  "m1.9": {
    title: `Siegmund és Sieglinde (A walkür)`,
    composer: `Richard Wagner`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Wagner minigame/43 The Drink _ Der Ring Des Nibelungen.mp3`,
    question: `Kiket látunk a színpadon?`
  },
  "m1.10": {
    title: `Hunding (A walkür)`,
    composer: `Richard Wagner`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Wagner minigame/46 Hunding _ Der Ring Des Nibelungen.mp3`,
    question: `Kihez tartozik ez a baljós motívum?`
  },
  "m1.11": {
    title: `Siegmund tavaszi dala (A walkür, 1. felvonás vége)`,
    composer: `Richard Wagner`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Wagner minigame/50 Spring Song _ Der Ring Des Nibelungen.mp3`,
    question: `Kit hallunk?`
  },
  "m1.12": {
    title: `sors-motívum (A walkür)`,
    composer: `Richard Wagner`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Wagner minigame/60 Fate _ Der Ring Des Nibelungen [eK2LxAJErr0].mp3`,
    question: `Hogy szokták hívni ezt a motívumot?`
  },
  "m1.13": {
    title: `Siegfried motívuma (Siegfried)`,
    composer: `Richard Wagner`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Wagner minigame/65 Siegfried _ Der Ring Des Nibelungen.mp3`,
    question: `Kihez tartozik ez a motívum?`
  },
  "m1.14": {
    title: `Siegfried kovács-dala, Siegfried összekovácsolja a kettétört Nothungot (Siegfried, 1. felvonás)`,
    composer: `Richard Wagner`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Wagner minigame/84 Siegfried's Forging Song II _ Der Ring Des Nibelungen.mp3`,
    question: `Itt mi történik éppen?`
  },
  "m1.15": {
    title: `Brünhilde ébredése (Siegfried, 3. felvonás vége)`,
    composer: `Richard Wagner`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Wagner minigame/91 Revival _ Der Ring Des Nibelungen.mp3`,
    question: `Itt mi történik éppen?`
  },
  "m1.16": {
    title: `Siegfried-idill`,
    composer: `Richard Wagner`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Wagner minigame/94 Immortal Beloved (Siegfried's Idyll) _ Der Ring Des Nibelungen.mp3`,
    question: `Mi a neve ennek a részletnek és mi történik éppen?`
  },

  // -------------------- Beethoven minigame --------------------
  "m2.1": {
    title: `3. szimfónia 1. tétel`,
    composer: `Beethoven`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Beethoven szimfóniák minigame/Beethoven 3. szimfónia 1. tétel.mp3`
  },
  "m2.2": {
    title: `3. szimfónia 2. tétel`,
    composer: `Beethoven`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Beethoven szimfóniák minigame/Beethoven 3. szimfónia 2. tétel.mp3`
  },
  "m2.3": {
    title: `3. szimfónia 4. tétel`,
    composer: `Beethoven`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Beethoven szimfóniák minigame/Beethoven 3. szimfónia 4. tétel.mp3`
  },
  "m2.4": {
    title: `5. szimfónia 2. tétel la follia`,
    composer: `Beethoven`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Beethoven szimfóniák minigame/Beethoven 5. szimfónia 2. tétel la follia.mp3`,
    question: `Pluszpont szerzési lehetőség: Beethoven itt megidéz egy a barokk zenében népszerű vándormotívumot. Mi ennek a motívumnak a neve? További pluszpontszerzési lehetőség: melyik Britney Spears szám épül ugyanerre az akkordmenetre?`
  },
  "m2.5": {
    title: `5. szimfónia 3. tétel`,
    composer: `Beethoven`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Beethoven szimfóniák minigame/Beethoven 5. szimfónia 3. tétel.mp3`
  },
  "m2.6": {
    title: `5. szimfónia 3. és 4. tétel közti átvezető rész`,
    composer: `Beethoven`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Beethoven szimfóniák minigame/Beethoven 5. szimfónia 3. és 4. tétel közti átvezető rész.mp3`
  },
  "m2.7": {
    title: `6. szimfónia 4. tétel 2. fele`,
    composer: `Beethoven`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Beethoven szimfóniák minigame/Beethoven 6. szimfónia 4. tétel 2. fele.mp3`
  },
  "m2.8": {
    title: `6. szimfónia 5. tétel`,
    composer: `Beethoven`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Beethoven szimfóniák minigame/Beethoven 6. szimfónia 5. tétel.mp3`
  },
  "m2.9": {
    title: `7. szimfónia 1. tétel`,
    composer: `Beethoven`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Beethoven szimfóniák minigame/Beethoven 7. szimfónia 1. tétel.mp3`
  },
  "m2.10": {
    title: `7. szimfónia 3. tétel`,
    composer: `Beethoven`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Beethoven szimfóniák minigame/Beethoven 7. szimfónia 3. tétel.mp3`
  },
  "m2.11": {
    title: `7. szimfónia 4. tétel`,
    composer: `Beethoven`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Beethoven szimfóniák minigame/Beethoven 7. szimfónia 4. tétel.mp3`
  },
  "m2.12": {
    title: `8. szimfónia 1. tétel expozíció vége`,
    composer: `Beethoven`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Beethoven szimfóniák minigame/Beethoven 8. szimfónia 1. tétel expozíció vége.mp3`
  },
  "m2.13": {
    title: `8. szimfónia 2. tétel`,
    composer: `Beethoven`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Beethoven szimfóniák minigame/Beethoven 8. szimfónia 2. tétel.mp3`
  },
  "m2.14": {
    title: `8. szimfónia 4. tétel`,
    composer: `Beethoven`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Beethoven szimfóniák minigame/Beethoven 8. szimfónia 4. tétel.mp3`
  },
  "m2.15": {
    title: `9. szimfónia 4. tétel`,
    composer: `Beethoven`,
    url: `https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Beethoven szimfóniák minigame/Beethoven 9. szimfónia 4. tétel.mp3`
  },
  // -------------------- Mahler minigame --------------------
  "m3.1": {
  title: "1 szimfónia 3. tétel",
  composer: "Mahler",
  url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mahler minigame/Mahler 1 szimfónia 3. tétel.mp3"
  },
  "m3.2": {
    title: "1. szimfónia 1. tétel",
    composer: "Mahler",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mahler minigame/Mahler 1. szimfónia 1. tétel.mp3"
  },
  "m3.3": {
    title: "1. szimfónia 4. tétel",
    composer: "Mahler",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mahler minigame/Mahler 1. szimfónia 4. tétel.mp3"
  },
  "m3.4": {
    title: "2. szimfónia eleje",
    composer: "Mahler",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mahler minigame/Mahler 2. szimfónia eleje.mp3"
  },
  "m3.5": {
    title: "2. szimfónia finálé",
    composer: "Mahler",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mahler minigame/Mahler 2. szimfónia finálé.mp3"
  },
  "m3.6": {
    title: "3. szimfónia 1. tétel",
    composer: "Mahler",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mahler minigame/Mahler 3. szimfónia 1. tétel.mp3"
  },
  "m3.7": {
    title: "3. szimfónia 1. tétel",
    composer: "Mahler",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mahler minigame/Mahler 3. szimfónia 1. tétel_2.mp3"
  },
  "m3.8": {
    title: "3. szimfónia 3. tétel vége",
    composer: "Mahler",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mahler minigame/Mahler 3. szimfónia 3. tétel vége.mp3"
  },
  "m3.9": {
    title: "3. szimfónia 3. tétel",
    composer: "Mahler",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mahler minigame/Mahler 3. szimfónia 3. tétel.mp3"
  },
  "m3.10": {
    title: "3. szimfónia 6. tétel",
    composer: "Mahler",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mahler minigame/Mahler 3. szimfónia 6. tétel.mp3"
  },
  "m3.11": {
    title: "4. szimfónia 1. tétel ",
    composer: "Mahler",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mahler minigame/Mahler 4. szimfónia 1. tétel .mp3"
  },
  "m3.12": {
    title: "4. szimfónia 3. tétel vége",
    composer: "Mahler",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mahler minigame/Mahler 4. szimfónia 3. tétel vége.mp3"
  },
  "m3.13": {
    title: "5. szimfónia 3. tétel ",
    composer: "Mahler",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mahler minigame/Mahler 5. szimfónia 3. tétel .mp3"
  },
  "m3.14": {
    title: "6. szimfónia 1. tétel",
    composer: "Mahler",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mahler minigame/Mahler 6. szimfónia 1. tétel.mp3"
  },
  "m3.15": {
    title: "6. szimfónia 1. tétel",
    composer: "Mahler",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mahler minigame/Mahler 6. szimfónia 1. tétel_2.mp3"
  },
  "m3.16": {
    title: "8. szimfónia",
    composer: "Mahler",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mahler minigame/Mahler 8. szimfónia.mp3"
  },
  "m3.17": {
    title: "9. szimfónia 1. tétel",
    composer: "Mahler",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mahler minigame/Mahler 9. szimfónia 1. tétel.mp3"
  },
  "m3.18": {
    title: "9. szimfónia, 3. tétel",
    composer: "Mahler",
    url: "https://pub-2773806ec26d42008de0aaedc88c2e6f.r2.dev/Mahler minigame/Mahler 9. szimfónia, 3. tétel.mp3"
  }
};


/* -------------------- DOM References -------------------- */
const audio = document.getElementById('audio');
const playBtn = document.getElementById('playBtn');
const answerBtn = document.getElementById('answerBtn');
const progFill = document.getElementById('progFill');
const hint = document.getElementById('hint');
const playingInfo = document.getElementById('playingInfo');
const screen1 = document.getElementById('screen1'); 
const screen2 = document.getElementById('screen2'); 
const screen3 = document.getElementById('screen3'); 
const answerText = document.getElementById('answerText'); 
const miniGameBtnWrap = document.getElementById('miniGameBtnWrap'); 
const backToPlay = document.getElementById('backToPlay');
const miniAnswerText = document.getElementById('miniAnswerText'); 
const nextMiniBtn = document.getElementById('nextMiniBtn'); 
const exitMiniBtn = document.getElementById('exitMiniBtn'); 
const mainTitle = document.getElementById('mainTitle');

/* -------------------- State -------------------- */
let currentTrack = null;        
let currentMinigame = null;     
let minigameQueue = [];         
let lastPlayedInMini = null;
let miniCycles = 0;

/* -------------------- Functions -------------------- */
function showScreen(el){
  screen1.classList.remove('visible');
  screen2.classList.remove('visible');
  screen3.classList.remove('visible');
  el.classList.add('visible');
}

function loadTrackById(id){
  let meta = tracks[id] || extraTracks[id];
  if(!meta){ console.warn('Unknown track',id); return; }
  currentTrack = id;
  audio.src = meta.url;
  playingInfo.textContent = "Zene lejátszása...";
  playBtn.textContent = "Play";
  progFill.style.width = '0%';
  hint.textContent = "";
  showScreen(screen1);

  const trackMeta = tracks[id];
  miniGameBtnWrap.innerHTML = '';
  if(trackMeta && trackMeta.minigame){
    const b = document.createElement('button');
    b.textContent = 'MINI-GAME';
    b.onclick = () => startMiniGame(trackMeta.minigame);
    miniGameBtnWrap.appendChild(b);
  }
}

function shuffleArray(a){
  for(let i=a.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [a[i],a[j]]=[a[j],a[i]];
  }
}

function startMiniGame(miniName){
  const mg = minigames[miniName];
  if(!mg || !mg.tracks || mg.tracks.length === 0) return;
  currentMinigame = miniName;
  miniCycles = 0;
  shuffleArray(mg.tracks);
  minigameQueue = mg.tracks.slice();
  const text = `Ha helyesen válaszolsz, kapsz 1 pontot és továbbléphetsz a következő kérdésre. Maximum ${mg.limit} kört játszhatsz.`;
  hint.textContent = text;
  mainTitle.textContent = text;
  playNextInMini();
}

function playNextInMini(){
  const mg = minigames[currentMinigame];
  if(miniCycles >= (mg?.limit || Infinity) || minigameQueue.length === 0){
    currentMinigame = null;
    hint.textContent = "";
    mainTitle.textContent = "Tippelj! Ha a zeneszerzőt és a darabot is eltalálod, az 2 pontot ér, ha csak az egyiket, az egyet.";
    showScreen(screen2);
    return;
  }

  const id = minigameQueue.shift();
  lastPlayedInMini = id;
  miniCycles++;
  const meta = extraTracks[id];
  audio.src = meta.url;
  playingInfo.textContent = "Zene lejátszása...";
  progFill.style.width = '0%';
  showScreen(screen1);

  if(meta.question){ 
    mainTitle.textContent = meta.question; 
    hint.textContent = meta.question;
  }
  audio.src = encodeURI(meta.url);
  audio.play().then(()=>{ playBtn.textContent="Pause"; })
    .catch(()=>{ playBtn.textContent="Play"; hint.textContent="Érintsd a lejátszás gombot, hogy elinduljon a hang."; });
}

/* -------------------- Event Listeners -------------------- */
playBtn.addEventListener('click', async ()=>{
  if(audio.paused){
    try{ await audio.play(); playBtn.textContent="Pause"; }
    catch(e){ hint.textContent="Érints a lejátszó gombot újra."; }
  } else { audio.pause(); playBtn.textContent="Play"; }
});

audio.addEventListener('timeupdate', ()=>{
  if(audio.duration){
    const pct = Math.floor(100 * audio.currentTime / audio.duration);
    progFill.style.width = pct + '%';
  }
});
audio.addEventListener('ended', ()=>{ playBtn.textContent="Play"; });

answerBtn.addEventListener('click', ()=>{
  audio.pause(); playBtn.textContent="Play";
  if(currentMinigame){
    const meta = extraTracks[lastPlayedInMini] || tracks[lastPlayedInMini];
    miniAnswerText.textContent = `${meta.title} — ${meta.composer}`;
    showScreen(screen3);
  } else {
    const meta = tracks[currentTrack];
    answerText.textContent = `${meta.title} — ${meta.composer}`;
    showScreen(screen2);
  }
});

backToPlay.addEventListener('click', (e)=>{ e.preventDefault(); showScreen(screen1); });
nextMiniBtn.addEventListener('click', ()=>{ playNextInMini(); });
exitMiniBtn.addEventListener('click', ()=>{
  currentMinigame = null;
  minigameQueue = [];
  const parent = tracks[currentTrack];
  if(parent){ answerText.textContent=`${parent.title} — ${parent.composer}`; showScreen(screen2); }
  else showScreen(screen1);
});

/* -------------------- Progress Bar -------------------- */
const progress = document.getElementById('progress');
let isDragging=false;
progress.addEventListener('click',(e)=>{ const rect=progress.getBoundingClientRect(); audio.currentTime = (e.clientX - rect.left)/rect.width * audio.duration; });
progress.addEventListener('mousedown',()=>{ isDragging=true; });
document.addEventListener('mouseup',()=>{ isDragging=false; });
document.addEventListener('mousemove',(e)=>{ if(isDragging && audio.duration){ const rect=progress.getBoundingClientRect(); audio.currentTime = Math.max(0, Math.min(e.clientX - rect.left, rect.width))/rect.width*audio.duration; }});
progress.addEventListener('touchstart',()=>{ isDragging=true; });
progress.addEventListener('touchend',()=>{ isDragging=false; });
progress.addEventListener('touchmove',(e)=>{ if(isDragging && audio.duration){ const touch=e.touches[0]; const rect=progress.getBoundingClientRect(); audio.currentTime=Math.max(0,Math.min(touch.clientX-rect.left,rect.width))/rect.width*audio.duration; e.preventDefault(); }});

/* -------------------- Initialization -------------------- */
(function init(){
  const t = new URL(location.href).searchParams.get('track');
  if(t && (tracks[t] || extraTracks[t])) loadTrackById(t);
  else { playingInfo.textContent="Nincs megadott track. Ellenőrizd a QR kódot."; hint.textContent="Próbáld beolvasni a kártyán lévő QR kódot."; showScreen(screen1); }
})();
</script>
</body>
</html>
